name: Webhook on Event
# Make sure to change what triggers your action based on your needs
on: [milestone, create, delete, fork, issues, member, pull_request, pull_request_review, issue_comment, push]
jobs:
  # ID of our job
  webhook-request:
    # OS to run our job on
    runs-on: ubuntu-latest
    steps:
    - name: Send a request to webhook
      run: |
        RESPONSE=$(curl -X POST ${{ secrets.DISCORD_WEBHOOK_URL }} \
        -H "Content-Type: application/json" \
        -d '{
        "username": "GitHub",
        "content": "@Boy",
        "embeds": [
            {
              "title": "üöÄ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á Embed",
              "description": "‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á embed ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Discord ‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö AI Code Review & Deployment Monitoring",
              "color": 5763719,
              "fields": [
                {
                  "name": "üìÇ ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Ñ",
                  "value": "ai-review-improve",
                  "inline": true
                },
                {
                  "name": "üåø Branch",
                  "value": "main",
                  "inline": true
                },
                {
                  "name": "üë®‚Äçüíª ‡∏ú‡∏π‡πâ Deploy",
                  "value": "'"${{ github.actor }}"'",
                  "inline": true
                },
                {
                  "name": "üìù Commit Message",
                  "value": "‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô Discord",
                  "inline": false
                }
              ],
              "footer": {
                "text": "AI Code Review System",
                "icon_url": "https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"
              }
            }
          ]√è
        }' ${{ secrets.DISCORD_WEBHOOK_URL }})
        echo "Webhook server response: $RESPONSE"
